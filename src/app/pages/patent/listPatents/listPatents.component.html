<h3>
  Listado de patentes:
  <div style="float: right">
    <a class="btn btn-primary" routerLink="/agregarPatente">
      Agregar Patente <i class="fas fa-plus"></i
    ></a>
  </div>
</h3>

<h6>
  Saldo Disponible: ${{ balance }}
  <a class="btn btn-info ml-2" [routerLink]="['/editarCuenta', userId]"
    >Cargar <i class="fas fa-dollar-sign"></i>
  </a>
</h6>

<div *ngIf="patents.length > 0">
  <div class="d-flex justify-content-between ml-2">
    <table class="table">
      <thead class="thead-light">
        <tr>
          <th scope="col">Patente</th>
          <th scope="col">Estacionamiento</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="
            let patent of patents
              | paginate
                : {
                    itemsPerPage: 5,
                    currentPage: page,
                    totalItems: length
                  }
          "
        >
          <td>{{ patent.patent }}</td>
          <td>
            <button
              [disabled]="this.startedParking"
              class="btn btn-success ml-2"
              (click)="checkParking(patent.patent)"
            >
              Iniciar <i class="far fa-play-circle"></i>
            </button>
          </td>
          <td>
            <a
              class="btn btn-warning ml-2"
              [routerLink]="['/editar', patent.id]"
            >
              Editar <i class="far fa-edit"></i
            ></a>
            <a class="btn btn-danger ml-2" (click)="deleteById(patent)">
              Eliminar <i class="far fa-trash-alt"></i>
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    <div
      *ngIf="startedParking"
      class="card border-danger mb-3"
      style="width: 18rem"
    >
      <div class="card-body">
        <h5 class="card-title">Estacionamiento Iniciado:</h5>
        <hr />
        <p class="card-text">
          Patente: {{ timePrice.patent }}
          <br />
          Tiempo: {{ timePrice.hours }}:{{ timePrice.minutes }} hs
          <br />
          Costo: ${{ timePrice.price }}
        </p>
        <button
          class="btn btn-dark ml-2"
          (click)="checkParking('')"
          [disabled]="!startedParking"
        >
          Finalizar
          <i class="fas fa-pause" style="color: red"></i>
        </button>
      </div>
    </div>
  </div>

  <pagination-controls
    previousLabel="Anterior"
    nextLabel="Siguiente"
    (pageChange)="page = $event"
  ></pagination-controls>
</div>
<div *ngIf="patents.length == 0">
  <div class="card mb-3">
    <div class="card-body">
      <h5 class="card-title">No se encuentran patentes registradas</h5>
      <p class="card-text">
        Por favor, registre una patente para administrar su estacionamiento.
      </p>
    </div>
  </div>
</div>
